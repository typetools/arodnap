--- /tmp/orig-2550861486448106161.java	2025-09-24 21:40:51.487663877 +0000
+++ /home/smala009/RLF/cf-rlc/june2020_dataset_NJR/url147ce07ebe_JoshuaKissoon_Kademlia_tgz-pJ8-kademlia_simulations_RoutingTableStateTestingJ8/src/kademlia/simulations/NodeConnectionTest.java	2025-09-24 21:40:49.927554864 +0000
@@ -15,13 +15,14 @@
 
     public static void main(String[] args)
     {
-        try
+    kademlia.JKademliaNode kad2 = null;
+    try
         {
             /* Setting up 2 Kad networks */
             JKademliaNode kad1 = new JKademliaNode("JoshuaK", new KademliaId("ASF45678947584567467"), 7574);
             System.out.println("Created Node Kad 1: " + kad1.getNode().getNodeId());
 
-            JKademliaNode kad2 = new JKademliaNode("Crystal", new KademliaId("ASERTKJDHGVHERJHGFLK"), 7572);
+            kad2 = new JKademliaNode("Crystal", new KademliaId("ASERTKJDHGVHERJHGFLK"), 7572);
             //NodeId diff12 = kad1.getNode().getNodeId().xor(kad2.getNode().getNodeId());
             System.out.println("Created Node Kad 2: " + kad2.getNode().getNodeId());
 //            System.out.println(kad1.getNode().getNodeId() + " ^ " + kad2.getNode().getNodeId() + " = " + diff12);
@@ -65,6 +66,14 @@
         catch (IOException e)
         {
             e.printStackTrace();
+        } finally {
+            if (kad2 != null) {
+                try {
+                    kad2.shutdown(false);
+                } catch (Exception e) {
+                    e.printStackTrace();
+                }
+            }
         }
     }
 }
