--- /tmp/orig-13595285383823788792.java	2025-09-24 22:47:48.504465049 +0000
+++ /home/smala009/RLF/cf-rlc/june2020_dataset_NJR/urlc5fdb179cc_lagodiuk_evo_neural_network_agents_tgz-pJ8-com_lagodiuk_agent_evolution_MainJ8/src/com/lagodiuk/agent/evolution/Main.java	2025-09-24 22:47:47.248377238 +0000
@@ -332,11 +332,12 @@
 
 				int returnVal = fileChooser.showOpenDialog(appFrame);
 				if (returnVal == JFileChooser.APPROVE_OPTION) {
-					try {
+				java.io.FileInputStream in = null;
+				try {
 						File brainFile = fileChooser.getSelectedFile();
 						prefs.put(PREFS_KEY_BRAINS_DIRECTORY, brainFile.getParent());
 
-						FileInputStream in = new FileInputStream(brainFile);
+						in = new FileInputStream(brainFile);
 
 						NeuralNetwork newBrain = NeuralNetwork.unmarsall(in);
 						in.close();
@@ -353,6 +354,14 @@
 						populationInfoLabel.setText("Population: " + populationNumber);
 					} catch (Exception e) {
 						e.printStackTrace();
+					} finally {
+					    if (in != null) {
+					        try {
+					            in.close();
+					        } catch (Exception e) {
+					            e.printStackTrace();
+					        }
+					    }
 					}
 				}
 
