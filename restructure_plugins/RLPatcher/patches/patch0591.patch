--- /tmp/orig-5350969722488305762.java	2025-09-24 22:36:31.545140532 +0000
+++ /home/smala009/RLF/cf-rlc/june2020_dataset_NJR/url8af84d296f_mrcosta_gantt_generator_tgz-pJ8-org_gantt_generator_mrcpsp_RunJ8/src/org/swiftgantt/common/SwingComImageGenerator.java	2025-09-24 22:36:29.913026440 +0000
@@ -154,9 +154,10 @@
 				imageGraphic.copyArea(0, 0, bounds.width, bounds.height, bounds.x, bounds.y);
 			}
 		}
+		javax.imageio.stream.ImageOutputStream ios = null;
 		try{
 			File imgFile = new File(filePath);
-			ImageOutputStream ios = new FileImageOutputStream(imgFile);
+			ios = new FileImageOutputStream(imgFile);
 			ImageWriterSpi iwspi = new PNGImageWriterSpi();
 			PNGImageWriter pngImageWriter = new PNGImageWriter(iwspi);
 			pngImageWriter.setOutput(ios);
@@ -168,6 +169,14 @@
 		}catch (Exception ex) {
 			logger.error("generatePNGImage(Dimension, JComponent[], Rectangle[], String)", ex); //$NON-NLS-1$
 			throw new IOException(ex.getMessage() + ex.getStackTrace());
+		} finally {
+		    if (ios != null) {
+		        try {
+		            ios.close();
+		        } catch (Exception e) {
+		            e.printStackTrace();
+		        }
+		    }
 		}
 	}
 	
