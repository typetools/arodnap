--- /tmp/orig-17844569392185620918.java	2025-09-24 22:12:46.329512261 +0000
+++ /home/smala009/RLF/cf-rlc/june2020_dataset_NJR/url7a45f192ca_mfullen_ping_pong_net_tgz-pJ8-ping_pong_net_client_io_TestClientNonPPNServerJ8/src/ping/pong/net/connection/io/AbstractIoConnectionTest.java	2025-09-24 22:12:44.457381393 +0000
@@ -138,9 +138,11 @@
     public void testFireOnSocketMessageReceived()
     {
         final String strMessage = "hello world";
-        AbstractIoConnection instance = new AbstractIoConnectionImpl();
-        assertEquals(0, instance.connectionEventListeners.size());
-        instance.connectionEventListeners.add(new ConnectionEvent<String>()
+        ping.pong.net.connection.io.AbstractIoConnection instance = null;
+        try {
+            instance = new AbstractIoConnectionImpl();
+            assertEquals(0, instance.connectionEventListeners.size());
+            instance.connectionEventListeners.add(new ConnectionEvent<String>()
         {
             @Override
             public void onSocketClosed()
@@ -161,8 +163,17 @@
                 assertEquals(message, strMessage);
             }
         });
-        assertEquals(1, instance.connectionEventListeners.size());
-        instance.fireOnSocketMessageReceived(strMessage);
+            assertEquals(1, instance.connectionEventListeners.size());
+            instance.fireOnSocketMessageReceived(strMessage);
+        } finally {
+            if (instance != null) {
+                try {
+                    instance.close();
+                } catch (Exception e) {
+                    e.printStackTrace();
+                }
+            }
+        }
     }
 
     /**
