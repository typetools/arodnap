--- /tmp/orig-7872918685624521595.java	2025-09-24 21:54:51.170354407 +0000
+++ /home/smala009/RLF/cf-rlc/june2020_dataset_NJR/url47af6b1535_rolandotr_db_comparison_tgz-pJ8-methodology_HistoryJ8/src/utils/Gnuplot.java	2025-09-24 21:54:49.486236680 +0000
@@ -18,16 +18,17 @@
 			DBProtocol[] frontiers, String preffix) throws IOException {
 		String newLine = System.getProperty("line.separator");
 		File points = new File("points_"+preffix+".DAT");
-		FileWriter writer = new FileWriter(points);
-		for (DBProtocol p : protocols) {
+		java.io.FileWriter writer = null;
+		try {
+		    writer = new FileWriter(points);
+		    for (DBProtocol p : protocols) {
 			writer.write(p.getTotalBitsExchangedDuringFastPhase()+"");
 			writer.write("\t");
 			writer.write(p.getMafiaFraudProbability().toString());
 			writer.write(newLine);
 		}
-		writer.close();
-		Hashtable<Class, FileWriter> classes = new Hashtable<>();
-		for (DBProtocol p : frontiers) {
+		    Hashtable<Class, FileWriter> classes = new Hashtable<>();
+		    for (DBProtocol p : frontiers) {
 			Class classP = p.getClass();
 			if (!classes.containsKey(classP)) {
 				classes.put(classP, new FileWriter(new File(classP.getName()+"_"+preffix+".DAT")));
@@ -40,9 +41,19 @@
 			writer.write(p.getMafiaFraudProbability().toString());
 			writer.write(newLine);
 		}
-		for (FileWriter w  : classes.values()){
+		    for (FileWriter w  : classes.values()){
 			w.close();
 		}
+		} finally {
+		    if (writer != null) {
+		        try {
+		            writer.close();
+		        } catch (Exception e) {
+		            e.printStackTrace();
+		        }
+		    }
+		}
+
 	}
 	
 	
