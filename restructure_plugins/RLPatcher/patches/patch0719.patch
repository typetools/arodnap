--- /tmp/orig-8958337493187107726.java	2025-09-24 22:47:53.328802312 +0000
+++ /home/smala009/RLF/cf-rlc/june2020_dataset_NJR/urlc5fdb179cc_lagodiuk_evo_neural_network_agents_tgz-pJ8-com_lagodiuk_agent_evolution_MainJ8/src/com/lagodiuk/agent/evolution/Main.java	2025-09-24 22:47:52.084715339 +0000
@@ -369,11 +369,12 @@
 
 				int returnVal = fileChooser.showSaveDialog(appFrame);
 				if (returnVal == JFileChooser.APPROVE_OPTION) {
-					try {
+				java.io.FileOutputStream out = null;
+				try {
 						File brainFile = fileChooser.getSelectedFile();
 						prefs.put(PREFS_KEY_BRAINS_DIRECTORY, brainFile.getParent());
 
-						FileOutputStream out = new FileOutputStream(brainFile);
+						out = new FileOutputStream(brainFile);
 
 						// current brain is the best evolved neural network
 						// from genetic algorithm
@@ -383,6 +384,14 @@
 						out.close();
 					} catch (Exception e) {
 						e.printStackTrace();
+					} finally {
+					    if (out != null) {
+					        try {
+					            out.close();
+					        } catch (Exception e) {
+					            e.printStackTrace();
+					        }
+					    }
 					}
 				}
 
